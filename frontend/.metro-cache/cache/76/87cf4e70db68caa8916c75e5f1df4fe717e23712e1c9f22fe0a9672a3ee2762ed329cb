{"dependencies":[{"name":"./LogBoxSymbolication","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":225},"end":{"line":9,"column":61,"index":286}}],"key":"tnifsL40ZTtSGfTDHsrrD1NVb8k=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,_d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"LogBoxLog\",{enumerable:!0,get:function(){return e}});var t=(function(t){if(t&&t.__esModule)return t;var e={};return t&&Object.keys(t).forEach(function(s){var c=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(e,s,c.get?c:{enumerable:!0,get:function(){return t[s]}})}),e.default=t,e})(r(_d[0],\"./LogBoxSymbolication\"));class e{symbolicated={stack:{error:null,stack:null,status:'NONE'},component:{error:null,stack:null,status:'NONE'}};callbacks=new Map;constructor(t){this.level=t.level,this.type=t.type??'error',this.message=t.message,this.stack=t.stack,this.category=t.category,this.componentStack=t.componentStack,this.codeFrame=t.codeFrame,this.isComponentError=t.isComponentError,this.count=1,this.symbolicated=t.symbolicated??this.symbolicated}incrementCount(){this.count+=1}getAvailableStack(t){return'COMPLETE'===this.symbolicated[t].status?this.symbolicated[t].stack:this.getStack(t)}flushCallbacks(t){const e=this.callbacks.get(t),s=this.symbolicated[t].status;if(e){for(const t of e)t(s);e.clear()}}pushCallback(t,e){let s=this.callbacks.get(t);s||(s=new Set,this.callbacks.set(t,s)),s.add(e)}retrySymbolicate(t,e){this._symbolicate(t,!0,e)}symbolicate(t,e){this._symbolicate(t,!1,e)}_symbolicate(e,s,c){c&&this.pushCallback(e,c);const n=this.symbolicated[e].status;if('COMPLETE'===n)return this.flushCallbacks(e);s?(t.deleteStack(this.getStack(e)),this.handleSymbolicate(e)):'NONE'===n&&this.handleSymbolicate(e)}componentStackCache=null;getStack(t){return'component'===t?(null==this.componentStackCache&&(this.componentStackCache=this.componentStack.map(t=>({file:t.fileName,methodName:t.content,lineNumber:t.location?.row??0,column:t.location?.column??0,arguments:[]}))),this.componentStackCache):this.stack}handleSymbolicate(e){('component'!==e||this.componentStack?.length)&&'PENDING'!==this.symbolicated[e].status&&(this.updateStatus(e,null,null,null),t.symbolicate(s(this.getStack(e))).then(t=>{this.updateStatus(e,null,t?.stack,t?.codeFrame)},t=>{this.updateStatus(e,t,null,null)}))}updateStatus(t,e,s,c){const n=this.symbolicated[t].status;null!=e?this.symbolicated[t]={error:e,stack:null,status:'FAILED'}:null!=s?(c&&(this.codeFrame=c),this.symbolicated[t]={error:null,stack:s,status:'COMPLETE'}):this.symbolicated[t]={error:null,stack:null,status:'PENDING'};const l=this.symbolicated[t].status;n!==l&&['COMPLETE','FAILED'].includes(l)&&this.flushCallbacks(t)}}function s(t){const e='undefined'!=typeof document&&document.currentScript&&'src'in document.currentScript&&document.currentScript.src||null,s=e?new URLSearchParams(e):new URLSearchParams({platform:'web',dev:String(__DEV__)});return t.map(t=>{if(!t.file?.startsWith('http')||t.file.includes('&platform='))return t;const e=new URL(t.file);return e.searchParams.has('platform')?t:(s.forEach((t,s)=>{e.searchParams.has(s)||e.searchParams.set(s,t)}),Object.assign({},t,{file:e.toString()}))})}});","lineCount":1,"map":[[1,93,48,0,"Object"],[1,100,48,0,"defineProperty"],[1,115,48,0,"_e"],[1,118,48,0],[1,131,48,0,"enumerable"],[1,143,48,0],[1,145,48,0,"get"],[1,149,48,0],[1,167,48,0,"LogBoxLog"],[1,168,48,0],[1,172,9,0],[1,176,9,0,"LogBoxSymbolication"],[1,179],[1,412,9,0,"_interopNamespace"],[1,413,9,0,"r"],[1,415,9,0,"_d"],[1,418,9,0],[1,447,48,7],[1,453,48,13,"LogBoxLog"],[1,455,58,2,"symbolicated"],[1,468,58,57],[1,469,59,4,"stack"],[1,475,59,11],[1,476,60,6,"error"],[1,482,60,13],[1,487,61,6,"stack"],[1,493,61,13],[1,498,62,6,"status"],[1,505,62,14],[1,513,64,4,"component"],[1,523,64,15],[1,524,65,6,"error"],[1,530,65,13],[1,535,66,6,"stack"],[1,541,66,13],[1,546,67,6,"status"],[1,553,67,14],[1,562,71,10,"callbacks"],[1,572,71,66],[1,576,71,70,"Map"],[1,580,73,2,"constructor"],[1,592,74,4,"data"],[1,595,78,4,"this"],[1,600,78,9,"level"],[1,606,78,17,"data"],[1,608,78,22,"level"],[1,614,79,4,"this"],[1,619,79,9,"type"],[1,624,79,16,"data"],[1,626,79,21,"type"],[1,632,79,29],[1,640,80,4,"this"],[1,645,80,9,"message"],[1,653,80,19,"data"],[1,655,80,24,"message"],[1,663,81,4,"this"],[1,668,81,9,"stack"],[1,674,81,17,"data"],[1,676,81,22,"stack"],[1,682,82,4,"this"],[1,687,82,9,"category"],[1,696,82,20,"data"],[1,698,82,25,"category"],[1,707,83,4,"this"],[1,712,83,9,"componentStack"],[1,727,83,26,"data"],[1,729,83,31,"componentStack"],[1,744,84,4,"this"],[1,749,84,9,"codeFrame"],[1,759,84,21,"data"],[1,761,84,26,"codeFrame"],[1,771,85,4,"this"],[1,776,85,9,"isComponentError"],[1,793,85,28,"data"],[1,795,85,33,"isComponentError"],[1,812,86,4,"this"],[1,817,86,9,"count"],[1,823,86,17],[1,825,87,4,"this"],[1,830,87,9,"symbolicated"],[1,843,87,24,"data"],[1,845,87,29,"symbolicated"],[1,859,87,45,"this"],[1,864,87,50,"symbolicated"],[1,876,88,2],[1,877,90,2,"incrementCount"],[1,894,91,4,"this"],[1,899,91,9,"count"],[1,906,91,18],[1,907,92,2],[1,908,94,2,"getAvailableStack"],[1,926,94,20,"type"],[1,929,95,4],[1,935,95,43],[1,948,95,8,"this"],[1,953,95,13,"symbolicated"],[1,966,95,26,"type"],[1,969,95,32,"status"],[1,976,96,13,"this"],[1,981,96,18,"symbolicated"],[1,994,96,31,"type"],[1,997,96,37,"stack"],[1,1003,98,11,"this"],[1,1008,98,16,"getStack"],[1,1017,98,25,"type"],[1,1019,99,2],[1,1020,101,10,"flushCallbacks"],[1,1035,101,25,"type"],[1,1038,102,4],[1,1044,102,10,"callbacks"],[1,1046,102,22,"this"],[1,1051,102,27,"callbacks"],[1,1061,102,37,"get"],[1,1065,102,41,"type"],[1,1068,103,10,"status"],[1,1070,103,19,"this"],[1,1075,103,24,"symbolicated"],[1,1088,103,37,"type"],[1,1091,103,43,"status"],[1,1098,104,4],[1,1101,104,8,"callbacks"],[1,1103,104,19],[1,1104,105,6],[1,1108,105,11],[1,1114,105,17,"callback"],[1,1119,105,29,"callbacks"],[1,1121,106,8,"callback"],[1,1123,106,17,"status"],[1,1126,108,6,"callbacks"],[1,1128,108,16,"clear"],[1,1135,109,4],[1,1136,110,2],[1,1137,112,10,"pushCallback"],[1,1150,112,23,"type"],[1,1152,112,40,"callback"],[1,1155,113,4],[1,1159,113,8,"callbacks"],[1,1161,113,20,"this"],[1,1166,113,25,"callbacks"],[1,1176,113,35,"get"],[1,1180,113,39,"type"],[1,1183,114,9,"callbacks"],[1,1187,115,6,"callbacks"],[1,1189,115,18],[1,1193,115,22,"Set"],[1,1197,116,6,"this"],[1,1202,116,11,"callbacks"],[1,1212,116,21,"set"],[1,1216,116,25,"type"],[1,1218,116,31,"callbacks"],[1,1222,118,4,"callbacks"],[1,1224,118,14,"add"],[1,1228,118,18,"callback"],[1,1230,119,2],[1,1231,121,2,"retrySymbolicate"],[1,1248,121,19,"type"],[1,1250,121,36,"callback"],[1,1253,122,4,"this"],[1,1258,122,9,"_symbolicate"],[1,1271,122,22,"type"],[1,1274,122,28],[1,1276,122,34,"callback"],[1,1278,123,2],[1,1279,125,2,"symbolicate"],[1,1291,125,14,"type"],[1,1293,125,31,"callback"],[1,1296,126,4,"this"],[1,1301,126,9,"_symbolicate"],[1,1314,126,22,"type"],[1,1317,126,28],[1,1319,126,35,"callback"],[1,1321,127,2],[1,1322,129,10,"_symbolicate"],[1,1335,130,4,"type"],[1,1337,131,4,"retry"],[1,1339,132,4,"callback"],[1,1342,134,8,"callback"],[1,1345,135,6,"this"],[1,1350,135,11,"pushCallback"],[1,1363,135,24,"type"],[1,1365,135,30,"callback"],[1,1368,137,4],[1,1374,137,10,"status"],[1,1376,137,19,"this"],[1,1381,137,24,"symbolicated"],[1,1394,137,37,"type"],[1,1397,137,43,"status"],[1,1404,139,4],[1,1407,139,19],[1,1420,139,8,"status"],[1,1422,140,6],[1,1429,140,13,"this"],[1,1434,140,18,"flushCallbacks"],[1,1449,140,33,"type"],[1,1452,143,8,"retry"],[1,1455,144,6,"LogBoxSymbolication"],[1,1457,144,26,"deleteStack"],[1,1469,144,38,"this"],[1,1474,144,43,"getStack"],[1,1483,144,52,"type"],[1,1487,145,6,"this"],[1,1492,145,11,"handleSymbolicate"],[1,1510,145,29,"type"],[1,1514,147,21],[1,1523,147,10,"status"],[1,1526,148,8,"this"],[1,1531,148,13,"handleSymbolicate"],[1,1549,148,31,"type"],[1,1551,151,2],[1,1552,153,10,"componentStackCache"],[1,1572,153,46],[1,1577,155,10,"getStack"],[1,1586,155,19,"type"],[1,1589,156,4],[1,1595,156,17],[1,1609,156,8,"type"],[1,1612,157,38],[1,1618,157,10,"this"],[1,1623,157,15,"componentStackCache"],[1,1645,158,8,"this"],[1,1650,158,13,"componentStackCache"],[1,1670,158,57,"this"],[1,1675,158,62,"componentStack"],[1,1690,31,24,"map"],[1,1694,31,29,"stack"],[1,1698,31,34],[1,1699,32,4,"file"],[1,1704,32,10,"stack"],[1,1706,32,16,"fileName"],[1,1715,33,4,"methodName"],[1,1726,33,16,"stack"],[1,1728,33,22,"content"],[1,1736,34,4,"lineNumber"],[1,1747,34,16,"stack"],[1,1749,34,22,"location"],[1,1759,34,32,"row"],[1,1764,34,39],[1,1766,35,4,"column"],[1,1773,35,12,"stack"],[1,1775,35,18,"location"],[1,1785,35,28,"column"],[1,1793,35,38],[1,1795,36,4,"arguments"],[1,1805,36,15],[1,1812,160,13,"this"],[1,1817,160,18,"componentStackCache"],[1,1838,162,11,"this"],[1,1843,162,16,"stack"],[1,1848,163,2],[1,1849,165,10,"handleSymbolicate"],[1,1867,165,28,"type"],[1,1871,166,17],[1,1885,166,8,"type"],[1,1888,166,33,"this"],[1,1893,166,38,"componentStack"],[1,1909,166,54,"length"],[1,1918,170,43],[1,1930,170,8,"this"],[1,1935,170,13,"symbolicated"],[1,1948,170,26,"type"],[1,1951,170,32,"status"],[1,1960,171,6,"this"],[1,1965,171,11,"updateStatus"],[1,1978,171,24,"type"],[1,1980,171,30],[1,1985,171,36],[1,1990,171,42],[1,1996,172,6,"LogBoxSymbolication"],[1,1998,172,26,"symbolicate"],[1,2010,172,38,"ensureStackFilesHaveParams"],[1,2012,172,65,"this"],[1,2017,172,70,"getStack"],[1,2026,172,79,"type"],[1,2031,172,87,"then"],[1,2036,173,9,"data"],[1,2040,174,10,"this"],[1,2045,174,15,"updateStatus"],[1,2058,174,28,"type"],[1,2060,174,34],[1,2065,174,40,"data"],[1,2068,174,46,"stack"],[1,2074,174,53,"data"],[1,2077,174,59,"codeFrame"],[1,2089,176,9,"error"],[1,2093,177,10,"this"],[1,2098,177,15,"updateStatus"],[1,2111,177,28,"type"],[1,2113,177,34,"error"],[1,2115,177,41],[1,2120,177,47],[1,2128,181,2],[1,2129,183,10,"updateStatus"],[1,2142,184,4,"type"],[1,2144,185,4,"error"],[1,2146,186,4,"stack"],[1,2148,187,4,"codeFrame"],[1,2151,189,4],[1,2157,189,10,"lastStatus"],[1,2159,189,23,"this"],[1,2164,189,28,"symbolicated"],[1,2177,189,41,"type"],[1,2180,189,47,"status"],[1,2187,190,17],[1,2193,190,8,"error"],[1,2195,191,6,"this"],[1,2200,191,11,"symbolicated"],[1,2213,191,24,"type"],[1,2216,191,32],[1,2217,192,8,"error"],[1,2225,193,8,"stack"],[1,2231,193,15],[1,2236,194,8,"status"],[1,2243,194,16],[1,2253,196,24],[1,2259,196,15,"stack"],[1,2262,197,10,"codeFrame"],[1,2266,198,8,"this"],[1,2271,198,13,"codeFrame"],[1,2281,198,25,"codeFrame"],[1,2284,201,6,"this"],[1,2289,201,11,"symbolicated"],[1,2302,201,24,"type"],[1,2305,201,32],[1,2306,202,8,"error"],[1,2312,202,15],[1,2317,203,8,"stack"],[1,2325,204,8,"status"],[1,2332,204,16],[1,2345,207,6,"this"],[1,2350,207,11,"symbolicated"],[1,2363,207,24,"type"],[1,2366,207,32],[1,2367,208,8,"error"],[1,2373,208,15],[1,2378,209,8,"stack"],[1,2384,209,15],[1,2389,210,8,"status"],[1,2396,210,16],[1,2407,214,4],[1,2413,214,10,"status"],[1,2415,214,19,"this"],[1,2420,214,24,"symbolicated"],[1,2433,214,37,"type"],[1,2436,214,43,"status"],[1,2443,215,8,"lastStatus"],[1,2447,215,23,"status"],[1,2450,216,10],[1,2451,216,11],[1,2462,216,23],[1,2472,216,33,"includes"],[1,2481,216,42,"status"],[1,2485,217,8,"this"],[1,2490,217,13,"flushCallbacks"],[1,2505,217,28,"type"],[1,2507,220,2],[1,2509,225,0],[1,2518,225,9,"ensureStackFilesHaveParams"],[1,2520,225,36,"stack"],[1,2523,226,2],[1,2529,226,8,"currentSrc"],[1,2531,227,24],[1,2551,227,11,"document"],[1,2561,227,39,"document"],[1,2570,227,48,"currentScript"],[1,2585,228,9],[1,2593,228,18,"document"],[1,2602,228,27,"currentScript"],[1,2617,228,44,"document"],[1,2626,228,53,"currentScript"],[1,2640,228,67,"src"],[1,2645,229,8],[1,2650,231,8,"currentParams"],[1,2652,231,24,"currentSrc"],[1,2654,232,6],[1,2658,232,10,"URLSearchParams"],[1,2674,232,26,"currentSrc"],[1,2677,233,6],[1,2681,233,10,"URLSearchParams"],[1,2697,233,26],[1,2698,234,8,"platform"],[1,2707,234,18],[1,2713,235,8,"dev"],[1,2717,235,13,"String"],[1,2724,235,20,"__DEV__"],[1,2735,238,2],[1,2742,238,9,"stack"],[1,2744,238,15,"map"],[1,2748,238,20,"frame"],[1,2752,239,4],[1,2756,240,7,"frame"],[1,2758,240,13,"file"],[1,2764,240,19,"startsWith"],[1,2775,240,30],[1,2784,242,6,"frame"],[1,2786,242,12,"file"],[1,2791,242,17,"includes"],[1,2800,242,26],[1,2814,244,6],[1,2821,244,13,"frame"],[1,2823,246,4],[1,2829,246,10,"url"],[1,2831,246,16],[1,2835,246,20,"URL"],[1,2839,246,24,"frame"],[1,2841,246,30,"file"],[1,2847,247,4],[1,2854,247,8,"url"],[1,2856,247,12,"searchParams"],[1,2869,247,25,"has"],[1,2873,247,29],[1,2885,248,13,"frame"],[1,2888,251,4,"currentParams"],[1,2890,251,18,"forEach"],[1,2898,251,26],[1,2899,251,27,"value"],[1,2901,251,34,"key"],[1,2906,252,10,"url"],[1,2908,252,14,"searchParams"],[1,2921,252,27,"has"],[1,2925,252,31,"key"],[1,2929,253,6,"url"],[1,2931,253,10,"searchParams"],[1,2944,253,23,"set"],[1,2948,253,27,"key"],[1,2950,253,32,"value"],[1,2955,256,4,"Object"],[1,2962,256,4,"assign"],[1,2969,256,4],[1,2972,256,16,"frame"],[1,2974,256,21],[1,2975,256,23,"file"],[1,2980,256,29,"url"],[1,2982,256,33,"toString"],[1,2997,258,0],[1,2998,258,1],[1,3001]],"functionMap":{"names":["<global>","componentStackToStack","componentStack.map$argument_0","LogBoxLog","constructor","incrementCount","getAvailableStack","flushCallbacks","pushCallback","retrySymbolicate","symbolicate","_symbolicate","getStack","handleSymbolicate","LogBoxSymbolication.symbolicate.then$argument_0","LogBoxSymbolication.symbolicate.then$argument_1","updateStatus","ensureStackFilesHaveParams","stack.map$argument_0","currentParams.forEach$argument_0"],"mappings":"AAA;AC6B;4BCC;IDM;CDC;OGU;ECyB;GDe;EEE;GFE;EGE;GHK;EIE;GJS;EKE;GLO;EME;GNE;EOE;GPE;EQE;GRsB;ESI;GTQ;EUE;QCQ;SDE;QEC;SFE;GVG;EaE;GbqC;CHC;AiBI;mBCa;0BCa;KDG;GDG;CjBC"},"hasCjsExports":false},"type":"js/module"}]}