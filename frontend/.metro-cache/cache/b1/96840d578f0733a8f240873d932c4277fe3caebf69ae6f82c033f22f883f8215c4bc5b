{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":52},"end":{"line":5,"column":65,"index":117}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  // Copyright Â© 2024 650 Industries.\n\n  'use client';\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.createPermissionHook = createPermissionHook;\n  var _react = require(_dependencyMap[0], \"react\");\n  // These types are identical, but improves the readability for suggestions in editors\n\n  /**\n   * Get or request permission for protected functionality within the app.\n   * It uses separate permission requesters to interact with a single permission.\n   * By default, the hook will only retrieve the permission status.\n   */\n  function usePermission(methods, options) {\n    const isMounted = (0, _react.useRef)(true);\n    const [status, setStatus] = (0, _react.useState)(null);\n    const {\n      get = true,\n      request = false,\n      ...permissionOptions\n    } = options || {};\n    const getPermission = (0, _react.useCallback)(async () => {\n      const response = await methods.getMethod(Object.keys(permissionOptions).length > 0 ? permissionOptions : undefined);\n      if (isMounted.current) setStatus(response);\n      return response;\n    }, [methods.getMethod]);\n    const requestPermission = (0, _react.useCallback)(async () => {\n      const response = await methods.requestMethod(Object.keys(permissionOptions).length > 0 ? permissionOptions : undefined);\n      if (isMounted.current) setStatus(response);\n      return response;\n    }, [methods.requestMethod]);\n    (0, _react.useEffect)(function runMethods() {\n      if (request) requestPermission();\n      if (!request && get) getPermission();\n    }, [get, request, requestPermission, getPermission]);\n\n    // Workaround for unmounting components receiving state updates\n    (0, _react.useEffect)(function didMount() {\n      isMounted.current = true;\n      return () => {\n        isMounted.current = false;\n      };\n    }, []);\n    return [status, requestPermission, getPermission];\n  }\n\n  /**\n   * Create a new permission hook with the permission methods built-in.\n   * This can be used to quickly create specific permission hooks in every module.\n   */\n  function createPermissionHook(methods) {\n    return options => usePermission(methods, options);\n  }\n});","lineCount":59,"map":[[2,2,1,0],[4,2,3,0],[4,14,3,12],[5,2,3,13],[7,2,3,13,"Object"],[7,8,3,13],[7,9,3,13,"defineProperty"],[7,23,3,13],[7,24,3,13,"exports"],[7,31,3,13],[8,4,3,13,"value"],[8,9,3,13],[9,2,3,13],[10,2,81,0,"exports"],[10,9,81,0],[10,10,81,0,"createPermissionHook"],[10,30,81,0],[10,33,81,0,"createPermissionHook"],[10,53,81,0],[11,2,5,0],[11,6,5,0,"_react"],[11,12,5,0],[11,15,5,0,"require"],[11,22,5,0],[11,23,5,0,"_dependencyMap"],[11,37,5,0],[12,2,9,0],[14,2,29,0],[15,0,30,0],[16,0,31,0],[17,0,32,0],[18,0,33,0],[19,2,34,0],[19,11,34,9,"usePermission"],[19,24,34,22,"usePermission"],[19,25,35,2,"methods"],[19,32,35,53],[19,34,36,2,"options"],[19,41,36,42],[19,43,37,93],[20,4,38,2],[20,10,38,8,"isMounted"],[20,19,38,17],[20,22,38,20],[20,26,38,20,"useRef"],[20,32,38,26],[20,33,38,26,"useRef"],[20,39,38,26],[20,41,38,27],[20,45,38,31],[20,46,38,32],[21,4,39,2],[21,10,39,8],[21,11,39,9,"status"],[21,17,39,15],[21,19,39,17,"setStatus"],[21,28,39,26],[21,29,39,27],[21,32,39,30],[21,36,39,30,"useState"],[21,42,39,38],[21,43,39,38,"useState"],[21,51,39,38],[21,53,39,58],[21,57,39,62],[21,58,39,63],[22,4,40,2],[22,10,40,8],[23,6,40,10,"get"],[23,9,40,13],[23,12,40,16],[23,16,40,20],[24,6,40,22,"request"],[24,13,40,29],[24,16,40,32],[24,21,40,37],[25,6,40,39],[25,9,40,42,"permissionOptions"],[26,4,40,60],[26,5,40,61],[26,8,40,64,"options"],[26,15,40,71],[26,19,40,75],[26,20,40,76],[26,21,40,77],[27,4,42,2],[27,10,42,8,"getPermission"],[27,23,42,21],[27,26,42,24],[27,30,42,24,"useCallback"],[27,36,42,35],[27,37,42,35,"useCallback"],[27,48,42,35],[27,50,42,36],[27,62,42,48],[28,6,43,4],[28,12,43,10,"response"],[28,20,43,18],[28,23,43,21],[28,29,43,27,"methods"],[28,36,43,34],[28,37,43,35,"getMethod"],[28,46,43,44],[28,47,44,6,"Object"],[28,53,44,12],[28,54,44,13,"keys"],[28,58,44,17],[28,59,44,18,"permissionOptions"],[28,76,44,35],[28,77,44,36],[28,78,44,37,"length"],[28,84,44,43],[28,87,44,46],[28,88,44,47],[28,91,44,51,"permissionOptions"],[28,108,44,68],[28,111,44,83,"undefined"],[28,120,45,4],[28,121,45,5],[29,6,46,4],[29,10,46,8,"isMounted"],[29,19,46,17],[29,20,46,18,"current"],[29,27,46,25],[29,29,46,27,"setStatus"],[29,38,46,36],[29,39,46,37,"response"],[29,47,46,45],[29,48,46,46],[30,6,47,4],[30,13,47,11,"response"],[30,21,47,19],[31,4,48,2],[31,5,48,3],[31,7,48,5],[31,8,48,6,"methods"],[31,15,48,13],[31,16,48,14,"getMethod"],[31,25,48,23],[31,26,48,24],[31,27,48,25],[32,4,50,2],[32,10,50,8,"requestPermission"],[32,27,50,25],[32,30,50,28],[32,34,50,28,"useCallback"],[32,40,50,39],[32,41,50,39,"useCallback"],[32,52,50,39],[32,54,50,40],[32,66,50,52],[33,6,51,4],[33,12,51,10,"response"],[33,20,51,18],[33,23,51,21],[33,29,51,27,"methods"],[33,36,51,34],[33,37,51,35,"requestMethod"],[33,50,51,48],[33,51,52,6,"Object"],[33,57,52,12],[33,58,52,13,"keys"],[33,62,52,17],[33,63,52,18,"permissionOptions"],[33,80,52,35],[33,81,52,36],[33,82,52,37,"length"],[33,88,52,43],[33,91,52,46],[33,92,52,47],[33,95,52,51,"permissionOptions"],[33,112,52,68],[33,115,52,83,"undefined"],[33,124,53,4],[33,125,53,5],[34,6,54,4],[34,10,54,8,"isMounted"],[34,19,54,17],[34,20,54,18,"current"],[34,27,54,25],[34,29,54,27,"setStatus"],[34,38,54,36],[34,39,54,37,"response"],[34,47,54,45],[34,48,54,46],[35,6,55,4],[35,13,55,11,"response"],[35,21,55,19],[36,4,56,2],[36,5,56,3],[36,7,56,5],[36,8,56,6,"methods"],[36,15,56,13],[36,16,56,14,"requestMethod"],[36,29,56,27],[36,30,56,28],[36,31,56,29],[37,4,58,2],[37,8,58,2,"useEffect"],[37,14,58,11],[37,15,58,11,"useEffect"],[37,24,58,11],[37,26,59,4],[37,35,59,13,"runMethods"],[37,45,59,23,"runMethods"],[37,46,59,23],[37,48,59,26],[38,6,60,6],[38,10,60,10,"request"],[38,17,60,17],[38,19,60,19,"requestPermission"],[38,36,60,36],[38,37,60,37],[38,38,60,38],[39,6,61,6],[39,10,61,10],[39,11,61,11,"request"],[39,18,61,18],[39,22,61,22,"get"],[39,25,61,25],[39,27,61,27,"getPermission"],[39,40,61,40],[39,41,61,41],[39,42,61,42],[40,4,62,4],[40,5,62,5],[40,7,63,4],[40,8,63,5,"get"],[40,11,63,8],[40,13,63,10,"request"],[40,20,63,17],[40,22,63,19,"requestPermission"],[40,39,63,36],[40,41,63,38,"getPermission"],[40,54,63,51],[40,55,64,2],[40,56,64,3],[42,4,66,2],[43,4,67,2],[43,8,67,2,"useEffect"],[43,14,67,11],[43,15,67,11,"useEffect"],[43,24,67,11],[43,26,67,12],[43,35,67,21,"didMount"],[43,43,67,29,"didMount"],[43,44,67,29],[43,46,67,32],[44,6,68,4,"isMounted"],[44,15,68,13],[44,16,68,14,"current"],[44,23,68,21],[44,26,68,24],[44,30,68,28],[45,6,69,4],[45,13,69,11],[45,19,69,17],[46,8,70,6,"isMounted"],[46,17,70,15],[46,18,70,16,"current"],[46,25,70,23],[46,28,70,26],[46,33,70,31],[47,6,71,4],[47,7,71,5],[48,4,72,2],[48,5,72,3],[48,7,72,5],[48,9,72,7],[48,10,72,8],[49,4,74,2],[49,11,74,9],[49,12,74,10,"status"],[49,18,74,16],[49,20,74,18,"requestPermission"],[49,37,74,35],[49,39,74,37,"getPermission"],[49,52,74,50],[49,53,74,51],[50,2,75,0],[52,2,77,0],[53,0,78,0],[54,0,79,0],[55,0,80,0],[56,2,81,7],[56,11,81,16,"createPermissionHook"],[56,31,81,36,"createPermissionHook"],[56,32,82,2,"methods"],[56,39,82,53],[56,41,83,2],[57,4,84,2],[57,11,84,10,"options"],[57,18,84,50],[57,22,85,4,"usePermission"],[57,35,85,17],[57,36,85,39,"methods"],[57,43,85,46],[57,45,85,48,"options"],[57,52,85,55],[57,53,85,56],[58,2,86,0],[59,0,86,1],[59,3]],"functionMap":{"names":["<global>","usePermission","getPermission","requestPermission","runMethods","didMount","<anonymous>","createPermissionHook"],"mappings":"AAA;ACiC;oCCQ;GDM;wCEE;GFM;IGG;KHG;YIK;WCE;KDE;GJC;CDG;OOM;SDG;wDCC;CPC"},"hasCjsExports":false},"type":"js/module"}]}